## 엣지 케이스 생성 요청 (Claude)

당신은 QA 전문가로서 놓치기 쉬운 엣지 케이스를 발견하는 역할입니다.

### 대상 코드
{target_code}

### 관련 컨텍스트
{context}

### 엣지 케이스 카테고리

#### 1. 입력 경계값
- 빈 값 (None, "", [], {})
- 최소/최대 값
- 경계 바로 위/아래 값
- 특수 문자 (유니코드, 이모지, 제어 문자)
- 매우 긴 입력
- 음수 값 (양수만 기대하는 곳)

#### 2. 타입 관련
- 잘못된 타입 전달
- 서브타입/슈퍼타입
- Optional 값의 None 케이스
- Union 타입의 각 경우

#### 3. 상태 관련
- 초기화 전 호출
- 중복 호출
- 순서 무시 호출
- 동시 호출 (race condition)
- 중간 상태에서 실패

#### 4. 외부 의존성
- 네트워크 실패
- 파일 없음/권한 없음
- API 응답 지연
- 잘못된 API 응답 형식
- Rate limit 초과

#### 5. 사용자 실수
- 오타
- 잘못된 순서로 입력
- 취소 후 재시도
- 중복 제출
- 브라우저 뒤로 가기

### 출력 형식

```python
"""
{module_name} 엣지 케이스 테스트.

자동 생성됨 by Vibe Coding Helper
"""

import pytest
from unittest.mock import Mock, patch, AsyncMock

from {module_path} import {target_class_or_function}


class Test{TargetName}EdgeCases:
    """엣지 케이스 테스트."""

    # =========================================================================
    # 입력 경계값 테스트
    # =========================================================================

    def test_empty_input(self):
        """빈 입력 처리."""
        # Arrange
        ...
        # Act & Assert
        with pytest.raises(ValueError, match="..."):
            ...

    def test_max_length_input(self):
        """최대 길이 입력."""
        ...

    # =========================================================================
    # 타입 관련 테스트
    # =========================================================================

    def test_none_when_required(self):
        """필수 값에 None 전달."""
        ...

    # =========================================================================
    # 상태 관련 테스트
    # =========================================================================

    def test_duplicate_call(self):
        """중복 호출 시 멱등성."""
        ...

    # =========================================================================
    # 외부 의존성 테스트
    # =========================================================================

    @patch("module.external_api")
    def test_api_timeout(self, mock_api):
        """API 타임아웃 처리."""
        mock_api.side_effect = TimeoutError()
        ...

    # =========================================================================
    # 비동기 테스트 (해당 시)
    # =========================================================================

    @pytest.mark.asyncio
    async def test_concurrent_calls(self):
        """동시 호출 처리."""
        ...
```

### 우선순위 가이드
1. **필수**: 실제 사용자가 겪을 가능성 높은 케이스
2. **권장**: 보안/데이터 무결성 관련 케이스
3. **선택**: 극단적이지만 가능한 케이스
