# Vibe Coding Helper - 사용자 스토리 (USER_STORIES.md)

## 우선순위 정의 (MoSCoW)
- **Must**: MVP에 반드시 포함
- **Should**: MVP에 포함되면 좋음
- **Could**: 시간이 허락하면 포함
- **Won't**: 이번 버전에서는 제외

---

## Epic 1: 프로젝트 초기화 (Phase 0)

### US-001: 프로젝트 시작하기 [Must]
```
As a 개발자
I want to 자연어로 프로젝트 아이디어를 설명하면 프로젝트가 초기화되길
So that 복잡한 설정 없이 바로 시작할 수 있다
```

**인수 조건:**
- [ ] `vibe init "설명"` 명령어로 시작 가능
- [ ] 설명 없이 `vibe init`만 실행해도 대화형으로 진행
- [ ] 완료 시 `TECH_STACK.md`, `RULES.md` 생성됨
- [ ] `.vibe/` 디렉토리 생성됨

**시나리오:**
```bash
$ vibe init "FastAPI로 날씨 알림 API 서버를 만들고 싶어"
> 프로젝트 초기화를 시작합니다...
> 몇 가지 질문에 답해주세요.
```

---

### US-002: 기술 스택 선택하기 [Must]
```
As a 개발자
I want to AI가 추천하는 기술 스택을 확인하고 수정할 수 있길
So that 내 선호도에 맞는 환경으로 시작할 수 있다
```

**인수 조건:**
- [ ] 프로젝트 설명 기반으로 기술 스택 추천
- [ ] 각 선택 항목에 추천 옵션 표시
- [ ] 사용자가 선택하거나 직접 입력 가능
- [ ] 선택 결과가 `TECH_STACK.md`에 반영됨

---

### US-003: 코딩 규칙 설정하기 [Should]
```
As a 개발자
I want to 코딩 스타일과 컨벤션을 설정할 수 있길
So that AI가 내 스타일에 맞는 코드를 생성한다
```

**인수 조건:**
- [ ] 네이밍 컨벤션 선택 (snake_case, camelCase 등)
- [ ] 코드 스타일 선택 (함수형, OOP, 혼합)
- [ ] 주석/문서화 수준 선택
- [ ] 결과가 `RULES.md`에 반영됨

---

## Epic 2: 기획 (Phase 1)

### US-004: PRD 생성하기 [Must]
```
As a 개발자
I want to 대화를 통해 PRD가 자동 생성되길
So that 체계적인 요구사항 문서를 쉽게 만들 수 있다
```

**인수 조건:**
- [ ] `vibe plan` 명령어로 시작
- [ ] 핵심 기능, 사용자, MVP 범위 등 질문
- [ ] 응답 기반으로 `PRD.md` 초안 생성
- [ ] 생성된 PRD 미리보기 및 수정 기회 제공

---

### US-005: User Story 도출하기 [Must]
```
As a 개발자
I want to PRD에서 User Story가 자동 도출되길
So that 구현해야 할 기능이 명확해진다
```

**인수 조건:**
- [ ] PRD 기반 User Story 자동 생성
- [ ] "As a / I want / So that" 형식 사용
- [ ] 우선순위(MoSCoW) 자동 제안
- [ ] `USER_STORIES.md`로 저장

---

### US-006: PRD 수정하기 [Should]
```
As a 개발자
I want to 생성된 PRD를 대화로 수정할 수 있길
So that 요구사항을 점진적으로 구체화할 수 있다
```

**인수 조건:**
- [ ] `vibe plan --review` 명령어로 시작
- [ ] 기존 PRD 로드 후 수정 대화
- [ ] 변경 사항 diff 표시
- [ ] 승인 시에만 파일 업데이트

---

## Epic 3: 설계 (Phase 2)

### US-007: 프로젝트 구조 설계하기 [Must]
```
As a 개발자
I want to 적절한 디렉토리 구조가 자동 제안되길
So that 처음부터 잘 정리된 구조로 시작할 수 있다
```

**인수 조건:**
- [ ] `vibe design` 명령어로 시작
- [ ] PRD와 기술 스택 기반 구조 제안
- [ ] `TREE.md`로 저장
- [ ] 트리 형식으로 미리보기 표시

---

### US-008: 스키마 설계하기 [Must]
```
As a 개발자
I want to 데이터 모델과 API 스키마가 자동 설계되길
So that 일관된 인터페이스로 개발할 수 있다
```

**인수 조건:**
- [ ] 프로젝트 유형에 맞는 스키마 생성
- [ ] Backend: DB 스키마, API 엔드포인트
- [ ] Frontend: 상태 관리, 컴포넌트 구조
- [ ] `SCHEMA.md`로 저장

---

### US-009: 프로젝트 스캐폴딩하기 [Must]
```
As a 개발자
I want to 설계된 구조대로 실제 파일/폴더가 생성되길
So that 바로 코딩을 시작할 수 있다
```

**인수 조건:**
- [ ] `vibe scaffold` 명령어로 실행
- [ ] `TREE.md` 기반 디렉토리 생성
- [ ] 빈 파일에 목적 주석 추가
- [ ] 실행 전 변경사항 미리보기

---

### US-010: TODO 목록 생성하기 [Must]
```
As a 개발자
I want to 구현할 작업 목록이 자동 생성되길
So that 무엇을 해야 하는지 명확히 알 수 있다
```

**인수 조건:**
- [ ] User Story 기반 태스크 분해
- [ ] 의존성 순서대로 정렬
- [ ] `TODO.md`로 저장
- [ ] 체크박스 형식으로 진행 상황 추적 가능

---

## Epic 4: 구현 (Phase 3)

### US-011: 다음 작업 자동 진행하기 [Must]
```
As a 개발자
I want to `vibe code` 한 번으로 다음 작업이 자동 진행되길
So that 어떤 파일을 수정해야 하는지 고민하지 않아도 된다
```

**인수 조건:**
- [ ] `TODO.md`에서 미완료 작업 중 첫 번째 선택
- [ ] 관련 컨텍스트 자동 수집 (RULES, SCHEMA, 기존 코드)
- [ ] 코드 생성 및 미리보기
- [ ] 승인 시 파일 작성

---

### US-012: 특정 작업 지정하기 [Should]
```
As a 개발자
I want to 특정 작업을 지정해서 진행할 수 있길
So that 순서를 조절하거나 급한 작업을 먼저 할 수 있다
```

**인수 조건:**
- [ ] `vibe code [task_id]` 형식 지원
- [ ] 의존성 체크 후 경고 표시 (필요시)
- [ ] 지정된 작업 진행

---

### US-013: 코드 변경사항 확인하기 [Must]
```
As a 개발자
I want to 생성된 코드를 적용 전에 확인할 수 있길
So that 원치 않는 변경을 방지할 수 있다
```

**인수 조건:**
- [ ] Diff 형식으로 변경사항 표시
- [ ] 구문 강조 적용
- [ ] 승인(Y), 거부(N), 수정(E) 옵션
- [ ] 거부 시 이유 입력하면 재생성

---

### US-014: 진행 상황 자동 기록하기 [Must]
```
As a 개발자
I want to 완료된 작업이 자동으로 기록되길
So that 나중에 무엇을 했는지 확인할 수 있다
```

**인수 조건:**
- [ ] `TODO.md` 체크박스 자동 업데이트
- [ ] `CONTEXT.md`에 작업 내역 추가
- [ ] Git 자동 커밋 (설정 시)

---

## Epic 5: 상태 관리 및 유틸리티

### US-015: 현재 상태 확인하기 [Must]
```
As a 개발자
I want to 현재 어느 단계에 있고 얼마나 진행되었는지 한눈에 보길
So that 전체 진행 상황을 파악할 수 있다
```

**인수 조건:**
- [ ] `vibe status` 명령어로 확인
- [ ] 현재 Phase 표시
- [ ] 완료/전체 작업 비율 표시
- [ ] 마지막 작업 정보 표시

---

### US-016: 자유롭게 질문하기 [Should]
```
As a 개발자
I want to 프로젝트에 대해 자유롭게 질문할 수 있길
So that 문서 변경 없이 정보를 얻을 수 있다
```

**인수 조건:**
- [ ] `vibe chat` 명령어로 대화 모드 진입
- [ ] 프로젝트 컨텍스트 포함하여 응답
- [ ] 문서 변경 없음 (읽기 전용)
- [ ] `exit` 또는 Ctrl+C로 종료

---

### US-017: 작업 되돌리기 [Should]
```
As a 개발자
I want to 마지막 작업을 되돌릴 수 있길
So that 실수를 쉽게 복구할 수 있다
```

**인수 조건:**
- [ ] `vibe undo` 명령어로 실행
- [ ] Git 커밋 되돌리기
- [ ] 상태 파일 복구
- [ ] 되돌릴 작업 미리보기 후 확인

---

### US-018: AI Provider 변경하기 [Could]
```
As a 개발자
I want to 명령어로 AI Provider를 변경할 수 있길
So that 상황에 따라 적절한 모델을 사용할 수 있다
```

**인수 조건:**
- [ ] `--provider` 옵션으로 지정
- [ ] 환경변수로도 설정 가능
- [ ] 설정 파일에 기본값 저장

---

## Epic 6: 에러 처리 및 복구

### US-019: 네트워크 에러 처리하기 [Must]
```
As a 개발자
I want to 네트워크 에러 시 자동으로 재시도되길
So that 일시적 문제로 작업이 중단되지 않는다
```

**인수 조건:**
- [ ] Rate limit: 대기 후 재시도
- [ ] Timeout: 자동 재시도 (최대 3회)
- [ ] 실패 시 명확한 에러 메시지

---

### US-020: 중단된 작업 재개하기 [Should]
```
As a 개발자
I want to 프로그램이 중단되어도 이어서 작업할 수 있길
So that 처음부터 다시 시작하지 않아도 된다
```

**인수 조건:**
- [ ] `.vibe/state.json`에 상태 저장
- [ ] 재실행 시 마지막 상태에서 시작
- [ ] 중간 결과 보존

---

## Epic 7: 테스트 (Phase 4) - NEW

### US-021: 전역 코드 감사 실행하기 [Should]
```
As a 개발자
I want to Gemini가 전체 코드베이스를 감사해주길
So that 논리적 결함이나 데이터 흐름 문제를 발견할 수 있다
```

**인수 조건:**
- [ ] `vibe test --audit` 명령어로 실행
- [ ] Gemini의 무한 컨텍스트로 전체 코드 분석
- [ ] 감사 리포트 생성 (잠재적 문제 목록)
- [ ] 우선순위별 이슈 분류

---

### US-022: 엣지 케이스 생성하기 [Should]
```
As a 개발자
I want to Claude가 엣지 케이스 테스트를 생성해주길
So that 놓치기 쉬운 경계 조건을 테스트할 수 있다
```

**인수 조건:**
- [ ] `vibe test --edge-cases` 명령어로 실행
- [ ] 사용자 관점의 시나리오 생성
- [ ] pytest 형식의 테스트 코드 생성
- [ ] 기존 테스트와 중복 체크

---

## Epic 8: 듀얼 모델 협업 - NEW

### US-023: 듀얼 모델 모드 활성화하기 [Must]
```
As a 개발자
I want to Claude와 Gemini가 협업하여 작업하길
So that 각 모델의 강점을 활용할 수 있다
```

**인수 조건:**
- [ ] `--dual-mode` 옵션 또는 설정으로 활성화
- [ ] Claude: 코딩, 아키텍처 설계 담당
- [ ] Gemini: 컨텍스트 관리, 라이브러리 검증 담당
- [ ] 원활한 모델 간 정보 교환

---

### US-024: Self-Healing 코드 생성 [Should]
```
As a 개발자
I want to 코드 에러 시 AI가 자동으로 수정을 시도하길
So that 수동 디버깅 시간을 줄일 수 있다
```

**인수 조건:**
- [ ] Claude가 코드 생성 후 에러 발생 시 자동 분석
- [ ] 최대 3회 자동 재시도
- [ ] 실패 시 Gemini가 전체 시스템 관점에서 원인 분석
- [ ] 사용자에게 상세 리포트 제공

---

### US-025: 실시간 라이브러리 검증 [Could]
```
As a 개발자
I want to Gemini가 라이브러리 호환성을 실시간 검증하길
So that 버전 충돌이나 deprecated API 사용을 방지할 수 있다
```

**인수 조건:**
- [ ] 코드 생성 시 사용된 라이브러리 버전 확인
- [ ] 최신 공식 문서와 비교 검증
- [ ] 호환성 문제 발견 시 경고 및 대안 제시

---

## 우선순위 요약

| 우선순위 | 스토리 수 | 스토리 ID |
|---------|---------|----------|
| **Must** | 13 | US-001, 002, 004, 005, 007, 008, 009, 010, 011, 013, 014, 015, 019, 023 |
| **Should** | 9 | US-003, 006, 012, 016, 017, 020, 021, 022, 024 |
| **Could** | 2 | US-018, 025 |
| **Won't** | 0 | - |

---

## 다음 단계
- [x] Phase 2에서 `TREE.md`, `SCHEMA.md` 생성
- [x] Phase 2에서 `TODO.md`로 작업 분해
- [ ] 듀얼 모델 오케스트레이터 구현
- [ ] Phase 4 테스트 명령어 구현
